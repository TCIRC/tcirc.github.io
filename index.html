<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="keywords" content="TCIRC, 臺中一中電腦資訊研習社">

    <link rel="shortcut icon" href="https://tcirc.tw/favicon.ico" type="image/favicon.png" />
    <link rel="icon" href="https://tcirc.tw/favicon.ico" type="image/favicon.png" />
    <link rel="stylesheet" href="assets/css/main.css">
    <script>
      let prefix='guest@tcirc.tw:~$ ';
      // links, ['displayName', 'hyperLink(need https:// etc.)']
      let courseList=[["Google","https://google.com"],["Youtube", "https://youtube.com"]];

      // define commands
      class Command {
        constructor(command){
          this.name=command;
        }
        consoleLog(){
          console.log(this.name);
        }
        run(){
          console.log("not defined")
        }
      };

      let LS = new Command("ls");
      
      LS.consoleLog();
      LS.run=()=>{
        courseList.forEach((item)=>{
          console.log(item)
          let node = document.createElement('a');
          node.innerText=item[0];
          node.href=item[1];
          document.getElementById("console").insertBefore(node,document.getElementById('inputDiv'));
        })
      }

      // IO
      let input=new Array;
      
      // regular
      document.addEventListener('keydown',(event)=>{
        document.getElementById('inputDiv').scrollIntoView();
        if((48<=event.which&&event.which<=90)||(96<=event.which&&event.which<=111)||(160<=event.which&&event.which<=165)||(186<=event.which&&event.which<=223)){
          input.push(event.key);
          document.getElementById('input').innerText+=event.key;
        }
        // space
        if(event.which==32){
          input.push(' ');
          document.getElementById('input').innerText+=' ';
        }
        // enter
        if(event.which==13){
          console.log(input);
          let inputStr='';
          input.forEach((item)=>{
            if(item!='/')
              inputStr+=item;
            else console.log('bad command')
          });
          
          let node = document.createElement('div');
          node.innerText=prefix+inputStr;
          document.getElementById("console").insertBefore(node,document.getElementById('inputDiv'));

          console.log(inputStr)
          input=new Array;
          document.getElementById('input').innerText='';
          
          LS.run();
        }
          
      });
      document.addEventListener('keydown',(e)=>{

      })
      // init

    </script>
  </head>
  <body>
    <div class="console"id="console">
      網站更新中!
      <a href="https://github.com/TCIRC/tcirc.github.io">github</a>
      <a href="old/38">38 th 學長的網站</a>
      <div class="inputDiv" id="inputDiv">guest@tcirc.tw:~$ <span id="input"></span></div>
    </div>
  </body>
</html>